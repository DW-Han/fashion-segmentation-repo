<!DOCTYPE html>
<html lang="en">
  <!-- idk what this does but if I delete it everything breaks -->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">
    
    <!-- the words that show up on the tab -->
    <title>Clothing Segmentation</title>

    <!-- styling for everything under <header> and what
      happens when you hover over a header-->
    <style>
      header{
        font-family: "Poppins";
        font-weight: bold;
        text-align: center;
        font-size: 300%;

        transition-property:color,text-shadow;
        transition-duration: 0.5s;
        transition-timing-function:ease-in;
      }
      header:hover{
        
        text-shadow:2px 3px #de5100;
      }
    </style>
</head>

<head> <!-- what a google search would show (title, description) -->
  <title>Clothing Segmentation</title> <!-- Replaces Tab Name -->
  <meta name="description" contents="This is the description"> <!-- shows on a google search -->
  <link rel="stylesheet" href="styles.css" />
  <script src="store.js" async></script>
</head>

<head> <!-- HEAD OF MAIN PAGE -->
  <body> 
    <header class="main-header"> 
        <h1 class="project-name project-name-large">Clothing Segmentation</h1> 
      
        <style>
          section{
            font-family: "Poppins";
            font-weight: bold;
            text-align: center;
            font-size: 120%;

            margin-top: 0px;
            margin-right: 13%;
            margin-bottom: 100px;
            margin-left: 13%;
    
            transition-property:color,text-shadow;
            transition-duration: 0.5s;
            transition-timing-function:ease-in;
          }
          body {
            background-color: #DBF9FC;
            }
          img {  
            width: 45%;
            min-width: 12em;
          }
        </style>

        <!-- image button -->
        <input type="file" accept="image/*" onchange="loadFile(event)">
        <p><img class="img-responsive" id="pic"/></p>

    </header>
    <h1>Hello, {{ data.name }}!</h1>
    <p>You are {{ data.age }} years old.</p>
    

    <section>
      <!-- the description at the bottom of the page, 
        look at above <style> for design-->
      <!-- TODO: make the description a footer so its way at the bottom -->
      <h2 class="section-header">ABOUT OUR MODEL</h2> 
      <div style='text-align:center;'>
        <p > This website is our minimum viable project for CS 1699, Practical AI.
          Our task was to create an application that supports machine learning, and to
          choose a platform that best suited our model. Our application asks the user to
          input an image of clothing they found online or in person, which is then sent
          through our custom image segmentation model to identify the clothing based on
          the pattern, shape, and design.
        </p>
        <p> Authors: Kenny Han, Emmanuelle Brent, Aidan Reilly </p>
      </div>
  </section>
  </body>
</head>

<script>
  var loadFile = function(event) {
      var image = document.getElementById('pic');
      
      image.src=URL.createObjectURL(event.target.files[0]);
      console.log(URL.createObjectURL(event.target.files[0]));
      const file = event.target.files[0];
      // Create a new file reader
      const reader = new FileReader();
      
      // Set a callback for when the reader has loaded the file
      reader.onload = (event) => {
        // Get the file path from the result
        const filePath = event.target.result;

        // Log the file path to the console
        console.log(filePath);
      };
      console.log(reader.readAsDataURL(file));

    // Read the file as a data URL
    reader.readAsDataURL(file);
      fetch('/add', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            a: URL.createObjectURL(event.target.files[0]),
            b: 7
        })
    })
  };
</script>
</html>